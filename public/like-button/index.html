<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Like Button using React and its hooks"><link rel=stylesheet href=/styles/styles.css><title>React Like Button</title></head><body><div class=container><nav class=navbar><div class=logo><a href=/>Amodh BH</a></div><div class=links><div class=toggle><svg width="20" height="20" viewBox="-.14 0 20.03 20.03" fill="#000"><g id="moon-alt" transform="translate(-2.25 -2)"><path id="secondary" fill="#ffe01b" d="M21 12A9 9 0 013.25 14.13 6.9 6.9.0 008 16 7 7 0 0011.61 3H12a9 9 0 019 9z"/></g></svg><div class=ball></div><svg width="20" height="20" viewBox="0 0 20 20" fill="#000"><g id="sun" transform="translate(-2 -2)"><circle id="secondary" fill="#ffe01b" cx="4" cy="4" r="4" transform="translate(8 8)"/><path id="primary" d="M12 3V4M5.64 5.64l.7.7M3 12H4m1.64 6.36.7-.7M12 21V20m6.36-1.64-.7-.7M21 12H20M18.36 5.64l-.7.7M12 8a4 4 0 104 4A4 4 0 0012 8z" fill="none" stroke="#ffe01b" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></g></svg></div><a href=/>Homepage</a>
<a href=/categories>Categories</a><div class=searchButton><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.77 18.3C9.2807 18.3 7.82485 17.8584 6.58655 17.031 5.34825 16.2036 4.38311 15.0275 3.81318 13.6516c-.56993-1.3759-.71905-2.89-.4285-4.35064.29055-1.46067 1.00771-2.80239 2.0608-3.85548s2.39481-1.77025 3.85548-2.0608c1.46064-.29055 2.97474-.14143 4.35064.4285s2.552 1.53507 3.3794 2.77337C17.8584 7.82485 18.3 9.2807 18.3 10.77 18.3 11.7588 18.1052 12.738 17.7268 13.6516s-.9331 1.7437-1.6323 2.4429C15.3953 16.7937 14.5652 17.3484 13.6516 17.7268S11.7588 18.3 10.77 18.3zm0-13.55001c-1.18669.0-2.34673.3519-3.33343 1.01119C6.44988 6.42046 5.68084 7.35754 5.22672 8.45389 4.77259 9.55025 4.65377 10.7566 4.88528 11.9205S5.68824 14.1535 6.52735 14.9926C7.36647 15.8317 8.43556 16.4032 9.59945 16.6347c1.16385.2315 2.37025.1127 3.46665-.3414C14.1624 15.8391 15.0995 15.0701 15.7588 14.0834 16.4181 13.0967 16.77 11.9367 16.77 10.75 16.77 9.15869 16.1379 7.63257 15.0126 6.50735 13.8874 5.38213 12.3613 4.74999 10.77 4.74999z" fill="#cbd5e1"/><path d="M20 20.75C19.9015 20.7504 19.8038 20.7312 19.7128 20.6934 19.6218 20.6557 19.5392 20.6001 19.47 20.53L15.34 16.4C15.2075 16.2578 15.1354 16.0697 15.1388 15.8754 15.1422 15.6811 15.221 15.4958 15.3584 15.3583 15.4958 15.2209 15.6812 15.1422 15.8755 15.1388 16.0698 15.1354 16.2578 15.2075 16.4 15.34l4.13 4.13C20.6704 19.6106 20.7493 19.8012 20.7493 20 20.7493 20.1987 20.6704 20.3893 20.53 20.53 20.4608 20.6001 20.3782 20.6557 20.2872 20.6934 20.1962 20.7312 20.0985 20.7504 20 20.75z" fill="#cbd5e1"/></svg><span>Search</span></div></div></nav><div class=single><div class=singleHead><div class=singleHeadTexts><h1 class=singleHeadTitle>React Like Button</h1><p class=singleHeadDesc>Like Button using React and its hooks</p><div class=singleHeadDetail><img src=/images/images.jpeg loading=lazy alt class=singleAvatar>
<span><a href=https://example.org/authors/maxdax/>MaxDax</a>
</span><a href=https://example.org/categories/coding/ class=singleCategory>coding</a>
<a href=https://example.org/categories/react/ class=singleCategory>React</a>
<a href=https://example.org/categories/like-button/ class=singleCategory>Like Button</a></div><time>Jan 29, 2024</time></div><img src=/images/1b.webp alt="React Like Button" class=singleHeadImg></div><div class=singleBottom><div class=singleContent><h1 id=like-button>Like Button</h1><p>In this blog lets understand how to implement Like Button using React fundamentals</p><p>Concepts that are used in this are :</p><ul><li>useState</li><li>async await</li><li>try/catch block</li></ul><p>Lets understand the use of these hooks &ndash;></p><ul><li>useState : Generally useState is mainly used to display the change in UI or store some data whenever an event is triggered by the user.
In the case of Like button we need three useState cause one for checking whether we have liked or not
Second to whether we have fetched the icons from the API or not
Third one is to send the error message if the icons failed to load when called.</li></ul><pre tabindex=0><code>  const [liked, setLiked] = useState(false);
  const [isFetching, setIsFetching] = useState(false);
  const [error, setError] = useState(null);
</code></pre><p>Icons.js</p><pre tabindex=0><code>export function SpinnerIcon({ className }) {
  return (
    &lt;svg
      className={className}
      width={16}
      height={16}
      viewBox=&#34;0 0 38 38&#34;
      xmlns=&#34;http://www.w3.org/2000/svg&#34;
      stroke=&#34;currentColor&#34;
    &gt;
      &lt;g fill=&#34;none&#34; fillRule=&#34;evenodd&#34;&gt;
        &lt;g transform=&#34;translate(1 1)&#34; strokeWidth=&#34;2&#34;&gt;
          &lt;circle strokeOpacity=&#34;.5&#34; cx=&#34;18&#34; cy=&#34;18&#34; r=&#34;18&#34; /&gt;
          &lt;path d=&#34;M36 18c0-9.94-8.06-18-18-18&#34;&gt;
            &lt;animateTransform
              attributeName=&#34;transform&#34;
              type=&#34;rotate&#34;
              from=&#34;0 18 18&#34;
              to=&#34;360 18 18&#34;
              dur=&#34;1s&#34;
              repeatCount=&#34;indefinite&#34;
            /&gt;
          &lt;/path&gt;
        &lt;/g&gt;
      &lt;/g&gt;
    &lt;/svg&gt;
  );
}

export function HeartIcon({ className }) {
  return (
    &lt;svg
      className={className}
      fill=&#34;currentColor&#34;
      viewBox=&#34;0 0 24 24&#34;
      width=&#34;16&#34;
      height=&#34;16&#34;
    &gt;
      &lt;g&gt;
        &lt;path d=&#34;M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z&#34;&gt;&lt;/path&gt;
      &lt;/g&gt;
    &lt;/svg&gt;
  );
}
</code></pre><p>The above code holds the two icons one is HeartIcon and second one is SpinnerIcon which is like a loading icons which is gonna get displayed when we are not able to fetch the HeartIcon from the API</p><ul><li><p>try/catch block : It is mainly used in some function where we are checking the status of the API response if we get any response it moves to try block and runs a piece of code or if we dont get any response from the API then it runs catch block code.
Mainly used for error handling</p></li><li><p>Use of async/await : As we are using a third party API to fetch the data of the products so it will take time to return the response so dont wanna stop the execution of the remaining code so we make this task asynchronous by using async/await . There is one more away of dealing this that use of promise .then and .catch</p></li><li><p>To fetch the API we used inbuilt method ie is fetch() there is another way of doing it by installing a third party library known as axios which is better then fetch as its error handling capabilities are better.
In this we are using to fetch the response once we post into it .
You will get to know once you go through the code</p></li></ul><p>Lets understand onClick function that the button has which has the main logic of the blog</p><pre tabindex=0><code>const handleLikeUnlike = async () =&gt; {
    setError(null);
    setIsFetching(true);

    try {
      const response = await fetch(
        &#34;https://www.greatfrontend.com/api/questions/like-button&#34;,
        {
          method: &#34;POST&#34;,
          headers: { &#34;Content-Type&#34;: &#34;application/json&#34; },
          //why stringify learn about
          body: JSON.stringify({
            action: liked ? &#34;unlike&#34; : &#34;like&#34;,
          }),
        }
      );

      if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) {
        setLiked(!liked);
      } else {
        const res = await response.json();
        setError(res.message);
        return;
      }
    } finally {
      setIsFetching(false);
    }
  };
</code></pre><ul><li>The above code explains that once you enter the onClick function which is asynchronous function cause we are doing POST method to the API we set the setError to null <strong>idk the reason learn about it</strong> and setIsFetching to true cause we are gonna do PUT request to the API for the required data/icon
So now to check whether we are getting 202 status or 404 status we are gonna use try/catch block inside the try block we are doing PUT request to the API endpoint and sending the data in string format which is the standard format the body we are sending is
if liked is true make it unlike and vice versa **why idk need to look into it **</li></ul><p>Later if the we are getting the desired response we go into if block and toggle the setLiked so that when user clicks on liked button it goes to unlike and vice versa
But if we get any error response from API we are gonna return the error message in setError which is put that in error variable from useState hook and later we can display it in our webpage</p><p>Finally if nothing gets satisfied that is no try/catch block the finally block is gonna run and inside it we are setting setIsFetching(false) so that we can display message that we are not able to fetch the icons</p><ul><li>Now lets see how to display this in our webpage</li></ul><pre tabindex=0><code>&lt;div&gt;
      &lt;button
        disabled={isFetching}
        className={`likeBtn ${liked ? &#34;liked&#34; : &#34;&#34;}`}
        onClick={handleLikeUnlike}
      &gt;
        {isFetching ? &lt;SpinnerIcon /&gt; : &lt;HeartIcon /&gt;}{&#34; &#34;}
        {liked ? &#34;Liked&#34; : &#34;Like&#34;}
      &lt;/button&gt;
      {error &amp;&amp; &lt;div className=&#34;error&#34;&gt;{error}&lt;/div&gt;}
&lt;/div&gt;
</code></pre><ul><li><p>The button holds the HeartIcon and SpinnerIcon and it conditionally renders it using a ternary operator and to change the style of it again we are gonna use the ternary operator in className and later to avoid sudden click b/w like to liked we are gonna use disabled attribute based on isFetching as it return true or falses</p></li><li><p>Later if we dont get isFetching to false we are gonna return the error message that we got from API response</p></li></ul><p>Style.css for this project :</p><pre tabindex=0><code>:root {
  --default-color: #888;
  --active-color: #f00;
}

* {
  font-family: sans-serif;
}

.likeBtn {
  border: 2px solid var(--default-color);
  display: flex;
  align-items: center;
  gap: 8px;
  border-radius: 32px;
  cursor: pointer;
  font-weight: bold;
  height: 30px;
  padding: 4px 8px;
  margin-bottom: 5px;
  color: var(--default-color);
  background-color: #fff;
}

.likeBtn:hover {
  border-color: var(--active-color);
  color: var(--active-color);
}

.liked,
.liked:hover {
  background-color: var(--active-color);
  border-color: var(--active-color);
  color: #fff;
}

.likeBtn-icon {
  display: flex;
}

.error {
  font-size: 12px;
}
</code></pre><p>That&rsquo;s it about Like Button there is still room for imporvement and we can add some more functionality into
For that we will see in next blog</p><p>Stay Tuned
MaxDax</p></div><div class=singleRightBar><div class=rightBar><img src=/images/ads.webp alt=ad class=rightBarImg>
<img src=/images/adh.webp alt=ad class=rightBarImgHr></div></div></div></div><div class=footer><div class=footerLinks><a href=/>Amodh BH</a> |
<a href=/categories>categories</a> |
<a href=/sitemap.xml>sitemap</a></div><div class=social><a href><svg width="20" zoomAndPan="magnify" viewBox="0 0 30 30.000001" height="20" version="1.0"><defs><clipPath id="269647c057"><path d="M.484375.0h29.03125V29.03125H.484375zm0 0" clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#269647c057)"><path fill="#e52d27" d="M29.515625 24.621094c0 2.433594-1.976563 4.410156-4.410156 4.410156H4.894531c-2.433593.0-4.410156-1.976562-4.410156-4.410156V4.414062C.484375 1.980469 2.460938.0 4.894531.0H25.105469c2.433593.0 4.410156 1.980469 4.410156 4.414062zm0 0" fill-opacity="1" fill-rule="nonzero"/></g><path fill="#fff" d="M25.289062 14.746094c0 1.605468.0 3.304687-.355468000000002 4.859375C24.679688 20.703125 23.785156 21.503906 22.707031 21.625 20.15625 21.910156 17.570312 21.914062 15.003906 21.910156c-2.574218.0-5.152344.0-7.703125-.285156000000001C6.222656 21.503906 5.324219 20.703125 5.074219 19.605469c-.359375-1.554688-.359375-3.253907-.359375-4.859375C4.714844 13.140625 4.71875 11.4375 5.074219 9.882812c.25-1.09375 1.144531-1.898437 2.226562-2.019531 2.550781-.285156 5.132813-.285156 7.703125-.285156 2.566406.0 5.148438.0 7.703125.285156 1.074219.121094 1.972657.925781 2.226563 2.019531C25.289062 11.4375 25.289062 13.140625 25.289062 14.746094zm0 0" fill-opacity="1" fill-rule="nonzero"/><path fill="#e52d27" d="M12.835938 10.917969v7.691406l5.972656-3.847656zm0 0" fill-opacity="1" fill-rule="nonzero"/></svg></a><a href aria-label=Facebook><svg width="20" zoomAndPan="magnify" viewBox="0 0 30 30.000001" height="20" version="1.0"><defs><clipPath id="82ef769079"><path d="M.484375.0h29.03125V29.03125H.484375zm0 0" clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#82ef769079)"><path fill="#1a4789" d="M29.515625 24.617188c0 2.4375-1.972656 4.410156-4.410156 4.410156H4.898438c-2.4375.0-4.414063-1.972656-4.414063-4.410156V4.410156c0-2.4375 1.976563-4.41406225 4.414063-4.41406225H25.105469c2.4375.0 4.410156 1.97656225 4.410156 4.41406225zm0 0" fill-opacity="1" fill-rule="nonzero"/></g><path fill="#fff" d="M19.722656 16.769531l.46875-3.640625H16.585938V10.804688C16.585938 9.75 16.878906 9.03125 18.390625 9.03125h1.925781V5.777344C19.984375 5.730469 18.839844 5.632812 17.507812 5.632812c-2.777343.0-4.679687 1.695313-4.679687 4.8125v2.683594H9.683594v3.640625h3.144531v9.339844h3.757813V16.769531zm0 0" fill-opacity="1" fill-rule="nonzero"/></svg></a><a href=https://twitter.com/lamawebdev aria-label=Twitter><svg width="20" zoomAndPan="magnify" viewBox="0 0 30 30.000001" height="20" version="1.0"><defs><clipPath id="d942bdcecf"><path d="M.484375.0h29.03125V29.03125H.484375zm0 0" clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#d942bdcecf)"><path fill="#1d9bf0" d="M25.886719 29.03125H4.113281c-2.003906.0-3.628906-1.625-3.628906-3.628906V3.628906C.484375 1.625 2.109375.0 4.113281.0H25.886719c2.003906.0 3.628906 1.625 3.628906 3.628906V25.402344c0 2.003906-1.625 3.628906-3.628906 3.628906zm0 0" fill-opacity="1" fill-rule="nonzero"/></g><path fill="#fff" d="M11.632812 21.890625c6.84375.0 10.589844-5.675781 10.589844-10.589844C22.222656 11.140625 22.222656 10.980469 22.214844 10.820312 22.941406 10.300781 23.570312 9.640625 24.074219 8.890625 23.40625 9.1875 22.6875 9.382812 21.929688 9.480469 22.699219 9.023438 23.289062 8.289062 23.570312 7.417969c-.71875.429687-1.515624.734374999999999-2.363281.898437C20.523438 7.59375 19.558594 7.140625 18.492188 7.140625c-2.054688.0-3.722657 1.671875-3.722657 3.726563.0.289062.0351569999999999.570312.09375.847655999999999C11.769531 11.5625 9.027344 10.074219 7.191406 7.824219c-.320312.550781-.5 1.191406-.5 1.871093.0 1.292969.660156000000001 2.433594 1.652344 3.101563C7.734375 12.773438 7.160156 12.605469 6.660156 12.332031c0 .015625.0.0273439999999994.0.0507809999999989.0 1.800782 1.285156 3.308594 2.984375 3.648438C9.332031 16.121094 9.003906 16.164062 8.664062 16.164062 8.425781 16.164062 8.191406 16.140625 7.96875 16.097656c.46875 1.480469 1.847656 2.554688 3.476562 2.585938-1.277343 1-2.882812 1.59375-4.625 1.59375C6.523438 20.277344 6.226562 20.265625 5.933594 20.226562c1.640625 1.046876 3.601562 1.664063 5.699218 1.664063" fill-opacity="1" fill-rule="nonzero"/></svg></a><a href=https://discord.gg/yKremu4mPr aria-label=Discord><svg width="20" zoomAndPan="magnify" viewBox="0 0 30 30.000001" height="20" version="1.0"><defs><clipPath id="f38ecf6063"><path d="M.484375.0h29.03125V29.03125H.484375zm0 0" clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#f38ecf6063)"><path fill="#7289da" d="M4.839844.0H25.160156C25.445312.0 25.730469.0273438 26.011719.0820312 26.292969.140625 26.5625.222656 26.828125.332031 27.09375.441406 27.34375.574219 27.582031.734375S28.039062 1.074219 28.242188 1.277344C28.441406 1.476562 28.625 1.699219 28.78125 1.933594 28.941406 2.171875 29.074219 2.425781 29.183594 2.6875c.109375.265625.191406000000001.539062.25.816406C29.488281 3.785156 29.515625 4.070312 29.515625 4.355469V24.675781C29.515625 24.964844 29.488281 25.246094 29.433594 25.527344 29.375 25.808594 29.292969 26.078125 29.183594 26.34375S28.941406 26.859375 28.78125 27.097656C28.625 27.335938 28.441406 27.554688 28.242188 27.757812 28.039062 27.957031 27.820312 28.140625 27.582031 28.296875 27.34375 28.457031 27.09375 28.589844 26.828125 28.699219S26.292969 28.894531 26.011719 28.949219C25.730469 29.003906 25.445312 29.03125 25.160156 29.03125H4.839844C4.554688 29.03125 4.269531 29.003906 3.988281 28.949219c-.28125-.0546879999999987-.550781-.140625-.816406-.25S2.65625 28.457031 2.417969 28.296875C2.179688 28.140625 1.960938 27.957031 1.757812 27.757812 1.558594 27.554688 1.375 27.335938 1.21875 27.097656 1.058594 26.859375.925781 26.609375.816406 26.34375S.625 25.808594.566406 25.527344C.511719 25.246094.484375 24.964844.484375 24.675781V4.355469c0-.285157.027344-.570313.082031-.851563.058594-.277344.140625-.550781.25-.816406.109375-.261719.242188-.515625.402344-.753906.15625-.234375.339844-.457032.539062-.65625.203126-.203125.421876-.382813.660157-.542969.238281-.160156.488281-.292969.753906-.402344.265625-.109375.535156-.191406.816406-.2499998C4.269531.0273438 4.554688.0 4.839844.0zm0 0" fill-opacity="1" fill-rule="nonzero"/></g><path fill="#fff" d="M20.101562 22.226562l-1.1875-1.417968C21.238281 20.1875 22.144531 18.597656 22.144531 18.597656c-2.949219 2.78125-11 2.894532-14.117187.0.0.0.792968 1.476563 3.171875 2.210938L9.898438 22.226562C5.925781 22.171875 4.394531 19.507812 4.394531 19.507812c0-5.898437 2.609375-10.605468 2.609375-10.605468C9.667969 7.03125 12.109375 7.03125 12.109375 7.03125L12.277344 7.257812C8.988281 8.164062 7.570312 9.640625 7.570312 9.640625c3.855469-2.609375 11.796876-2.382813 14.914063.0C22.542969 9.582031 20.613281 8.050781 17.609375 7.257812l.28125-.226562s2.441406.0 5.105469 1.871094c2.664062 1.871094 2.609375 4.707031 2.609375 10.605468.0.0-1.53125 2.664063-5.503907 2.71875zm0 0" fill-opacity="1" fill-rule="nonzero"/><path fill="#7289da" d="M13.46875 15.820312C13.46875 16.082031 13.421875 16.335938 13.328125 16.578125 13.230469 16.824219 13.097656 17.039062 12.921875 17.222656 12.746094 17.410156 12.542969 17.554688 12.3125 17.652344 12.085938 17.753906 11.847656 17.804688 11.597656 17.804688 11.351562 17.804688 11.109375 17.753906 10.882812 17.652344 10.652344 17.554688 10.449219 17.410156 10.273438 17.222656 10.097656 17.039062 9.964844 16.824219 9.867188 16.578125 9.773438 16.335938 9.726562 16.082031 9.726562 15.820312 9.726562 15.558594 9.773438 15.304688 9.867188 15.0625 9.964844 14.816406 10.097656 14.601562 10.273438 14.417969 10.449219 14.230469 10.652344 14.085938 10.882812 13.988281 11.109375 13.886719 11.351562 13.835938 11.597656 13.835938c.25.0.488282.0507809999999989.714843999999999.152343C12.542969 14.085938 12.746094 14.230469 12.921875 14.417969 13.097656 14.601562 13.230469 14.816406 13.328125 15.0625 13.421875 15.304688 13.46875 15.558594 13.46875 15.820312zm0 0" fill-opacity="1" fill-rule="nonzero"/><path fill="#7289da" d="M20.046875 15.820312C20.046875 16.082031 20 16.335938 19.902344 16.578125 19.808594 16.824219 19.675781 17.039062 19.5 17.222656 19.324219 17.410156 19.121094 17.554688 18.890625 17.652344 18.664062 17.753906 18.421875 17.804688 18.175781 17.804688 17.925781 17.804688 17.6875 17.753906 17.460938 17.652344 17.230469 17.554688 17.027344 17.410156 16.851562 17.222656 16.675781 17.039062 16.542969 16.824219 16.445312 16.578125 16.351562 16.335938 16.304688 16.082031 16.304688 15.820312 16.304688 15.558594 16.351562 15.304688 16.445312 15.0625 16.542969 14.816406 16.675781 14.601562 16.851562 14.417969 17.027344 14.230469 17.230469 14.085938 17.460938 13.988281 17.6875 13.886719 17.925781 13.835938 18.175781 13.835938 18.421875 13.835938 18.664062 13.886719 18.890625 13.988281 19.121094 14.085938 19.324219 14.230469 19.5 14.417969 19.675781 14.601562 19.808594 14.816406 19.902344 15.0625 20 15.304688 20.046875 15.558594 20.046875 15.820312zm0 0" fill-opacity="1" fill-rule="nonzero"/></svg></a></div></div></div><script src=/js/App.js></script></body></html>